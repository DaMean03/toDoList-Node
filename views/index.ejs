<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ToDo List</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <div
      class="container position-absolute top-0 start-50 translate-middle-x text-center mt-5"
    >
      <div class="row justify-content-center">
        <!-- DATE -->
        <div class="date col-lg-5 col-md-7 col-sm-10 col-12 rounded mb-5 p-3">
          <%= date %>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="list col-lg-5 col-md-7 col-sm-10 col-12 p-0">
          <!-- LIST TITLE -->
          <div class="list__title rounded-top">ToDo List</div>
          <!-- LIST CONTROLS -->
          <div class="list__controls">
            <!-- <button class="btn btn-success" form="update" formaction="/update">
              SAVE
            </button> -->
            <button class="btn btn-danger" form="update" formaction="/delete">
              REMOVE
            </button>
          </div>
          <!-- LIST ITEMS -->
          <div class="list__items">
            <form id="update" method="POST">
              <% if (locals.tasks) { tasks.forEach((task) => { %>
              <div class="item">
                <input
                  type="checkbox"
                  name="tasksCompleted"
                  value="<%=task._id%>"
                  class="item__box"
                />
                <span class="item__text"> <%=task.newItem%> </span>
              </div>
              <% })} %>
            </form>
          </div>
          <!-- LIST FORM -->
          <div class="list__input rounded-bottom p-3">
            <form class="form" action="/post" method="POST">
              <input
                class="form__input"
                type="text"
                name="newItem"
                id="newItem"
                placeholder="New Item"
              />
              <button class="form__btn" type="submit">+</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
